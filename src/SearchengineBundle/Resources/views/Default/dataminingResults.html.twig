{{ form_start(get_most_viewed_videos_form_ajax, { 'attr' : {'novalidate': 'novalidate', 'role' : 'form', 'id': 'get-most-viewed-videos-ajax'|default('form')} }) }}
{{ form_end(get_most_viewed_videos_form_ajax) }}

<script>

    function getMostViewedVideos(amountVideosViewed, event)
    {
        var form = $('#get-most-viewed-videos-ajax');
        var url = form.attr('action');

        $.post(url, {
            amountVideosViewed: amountVideosViewed
        }, function (result)
        {
            var amountVideos = result[0].amountVideos;
            
            drawNoResult(event, amountVideos);
            for (i = 0; i < amountVideos; i++)
            {
                var videoId = result[i].videoId;
                var videoName = result[i].videoName;
                var videoDescription = result[i].videoDescription;
                var videoImage = result[i].videoImage;
                var videoContent = result[i].videoContent;
                var videoUpdatedate = result[i].videoUpdatedate;
                var videoAmountViews = result[i].videoAmountViews;
                var videoAmountComments = result[i].videoAmountComments;
                var videoScore = result[i].videoScore;
                var userId = result[i].userId;
                var userName = result[i].userName;
                var datamininglistId = result[i].datamininglistId;
                var amountVideos = result[i].amountVideos;
                
                
                if (videoId === "_")
                {
                    
                } else
                {
                    
                    if (videoScore === 0)
                    {
                       if (videoScore === 0)
                       {
                           videoScore = 1;
                       }
                    }
                
                
                    var kindOfList = "dataminingResults";
                    var listId = 0;
                    videoOrderPosition_dataminingResults++; // SearchengineBundle.js

                    appendVideoToSearchEngineDiv(
                        videoId,
                        videoName,
                        videoDescription,
                        videoImage,
                        videoContent,
                        videoUpdatedate,
                        videoAmountViews,
                        videoAmountComments,
                        videoScore,
                        userId,
                        userName,
                        amountVideos,
                        datamininglistId,
                        kindOfList,
                        listId,
                        videoOrderPosition_dataminingResults
                    );
                
                }
                
                
            }
            
            {#alert("GET MOST VIEWED VIDEOS");#}
        }).fail(function () {
            alert("ERROR GET MOST VIEWED VIDEOS");
        });
    }
    
</script>