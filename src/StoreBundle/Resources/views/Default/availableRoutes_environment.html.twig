{{ form_start(available_routes_form_ajax, { 'attr' : {'novalidate': 'novalidate', 'role' : 'form', 'id': 'available-routes-ajax'|default('form')} }) }}
{{ form_end(available_routes_form_ajax) }}


<style>
    #available_routes {
        position: absolute;
        display: block;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
    }
</style>


<div id="available_routes">
    available routes
</div>

<script>
    
    window.onload = availableRoutes();
    
    function availableRoutes()
    {
        alert("availableRoutes()... ");
        var form = $('#available-routes-ajax');
        var url = form.attr('action');

        $.post(url, function (data)
        {
            
{#            var i = 0;
            var j = 0;

            var package_id = data[i][j].package_id;
            var packageOrigin_id = data[i][j].packageOrigin_id; 
            var location_id_Origin = data[i][j].location_id_Origin; 
            var packageDestiny_id = data[i][j].packageDestiny_id; 
            var location_id_Destiny = data[i][j].location_id_Destiny; 
            var availableRoute_id = data[i][j].availableRoute_id; 
            var availableRoute_openedDate = data[i][j].availableRoute_openedDate; 
            var availableRoute_closedDate = data[i][j].availableRoute_closedDate; 
            var user_id = data[i][j].user_id; 
            var user_name = data[i][j].user_name; 
            var routes_amount = data[i][j].routes_amount; 
            var packages_amount = data[i][j].packages_amount; 
            var package_position = data[i][j].package_position; 
            var route_position = data[i][j].route_position; 
            
            alert(
            "\npackage_id: "+package_id+
            "\npackageOrigin_id: "+packageOrigin_id+
            "\nlocation_id_Origin: "+location_id_Origin+
            "\npackageDestiny_id: "+packageDestiny_id+
            "\nlocation_id_Destiny: "+location_id_Destiny+
            "\navailableRoute_id: "+availableRoute_id+
            "\navailableRoute_openedDate: "+availableRoute_openedDate+
            "\navailableRoute_closedDate: "+availableRoute_closedDate+
            "\nuser_id: "+user_id+
            "\nuser_name: "+user_name+
            "\n: "
            );#}
            
            
            var longitud = data.length; 
{#            var routes_amount = data[0][0].routes_amount;#}
            alert("longitud "+longitud);
            for (i = 0; i < longitud; i++)
            {
                var longitud_2 = data[i].length;
                alert("longitud_2 "+longitud_2);
                for (j = 0; j < longitud_2; j++)
                {
{#                    alert("iteraccion "+j);#}
                    var package_id = data[i][j].package_id;
                    var packageOrigin_id = data[i][j].packageOrigin_id; 
                    var location_id_Origin = data[i][j].location_id_Origin; 
                    var packageDestiny_id = data[i][j].packageDestiny_id; 
                    var location_id_Destiny = data[i][j].location_id_Destiny; 
                    var availableRoute_id = data[i][j].availableRoute_id; 
                    var availableRoute_openedDate = data[i][j].availableRoute_openedDate; 
                    var availableRoute_closedDate = data[i][j].availableRoute_closedDate; 
                    var user_id = data[i][j].user_id; 
                    var user_name = data[i][j].user_name; 
                    var routes_amount = data[i][j].routes_amount; 
                    var packages_amount = data[i][j].packages_amount; 
                    var package_position = data[i][j].package_position; 
                    var route_position = data[i][j].route_position; 
                    
                    $("#available_routes").append(
                        "<div>"+
                        "&nbsp&nbsp---------------------&nbsp&nbsp"+
                        "&nbsppackage_id_: "+package_id+
                        "&nbsppackageOrigin_id_: "+packageOrigin_id+
                        "&nbsplocation_id_Origin_: "+location_id_Origin+
                        "&nbsppackageDestiny_id_: "+packageDestiny_id+
                        "&nbsplocation_id_Destiny_: "+location_id_Destiny+
                        "&nbspavailableRoute_id: "+availableRoute_id+
                        "&nbspavailableRoute_openedDate: "+availableRoute_openedDate+
                        "&nbspavailableRoute_closedDate: "+availableRoute_closedDate+
                        "&nbspuser_id: "+user_id+
                        "&nbspuser_name: "+user_name+
                        "&nbsproute_position: "+route_position+
                        "&nbsppackage_position: "+package_position+
                        "</div>"
                    );
                }
                $("#available_routes").append(
                    "<div>"+
                    "&nbsp&nbsp+++++++++++++++++++++&nbsp&nbsp"+
                    "</div>"
                );
            }
            
            alert("available-routes-ajax ... 0987 ");
        }).fail(function () {
            alert('ERROR available-routes-ajax');
        });
    }

    
</script>